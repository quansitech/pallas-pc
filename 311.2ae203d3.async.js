"use strict";(self.webpackChunk_quansitech_pallas_pc=self.webpackChunk_quansitech_pallas_pc||[]).push([[311],{20311:function(v,t,r){r.r(t);var E=r(15009),d=r.n(E),D=r(99289),P=r.n(D),m=r(44559);t.default={upload:function(){var O=P()(d()().mark(function o(s,i,h){var n,_,l,b,a,u,p,f,c;return d()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new FormData,_=new URLSearchParams(i),h&&_.append("hash_id",h),l=s.type,l){e.next=8;break}return e.next=7,m.Z.getFileType.start(s);case 7:l=e.sent;case 8:return _.append("vendor_type","volcengine_tos"),_.append("file_type",l),_.append("title",s.name),e.next=13,fetch(decodeURIComponent(_.toString()));case 13:return b=e.sent,e.next=16,b.json();case 16:if(a=e.sent,parseInt(a.status)!==2){e.next=19;break}return e.abrupt("return",{file_id:a.file_id,url:a.file_url,status:parseInt(a.status)});case 19:if(!m.Z.handleError.hasError(a)){e.next=21;break}return e.abrupt("return",a);case 21:u=a.params;for(p in u)n.append(p,u[p]);return n.append("file",s),e.next=26,fetch(a.url,{method:"POST",body:n});case 26:return f=e.sent,e.next=29,f.json();case 29:return c=e.sent,e.abrupt("return",c);case 31:case"end":return e.stop()}},o)}));function j(o,s,i){return O.apply(this,arguments)}return j}()}}}]);
