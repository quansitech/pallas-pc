"use strict";(self.webpackChunk_quansitech_pallas_pc=self.webpackChunk_quansitech_pallas_pc||[]).push([[552],{13552:function(v,t,a){a.r(t);var f=a(15009),o=a.n(f),D=a(97857),j=a.n(D),P=a(99289),O=a.n(P),d=a(44559);t.default={upload:function(){var M=O()(o()().mark(function m(s,i,b){var l,r,n,h,_,u,p,E,c;return o()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(l=new FormData,r=new URLSearchParams(i),b&&r.append("hash_id",b),n=s.type,n){e.next=8;break}return e.next=7,d.Z.getFileType.start(s);case 7:n=e.sent;case 8:return r.append("vendor_type","tengxun_cos"),r.append("file_type",n),r.append("title",s.name),e.next=13,fetch(decodeURIComponent(r.toString()));case 13:return h=e.sent,e.next=16,h.json();case 16:if(_=e.sent,parseInt(_.status)!==2){e.next=19;break}return e.abrupt("return",{file_id:_.file_id,url:_.file_url,status:parseInt(_.status)});case 19:if(!d.Z.handleError.hasError(_)){e.next=21;break}return e.abrupt("return",_);case 21:u=j()({"Content-type":n},_.params);for(p in u)l.append(p,u[p]);return l.append("file",s),e.next=26,fetch(_.url,{method:"POST",body:l});case 26:return E=e.sent,e.next=29,E.json();case 29:return c=e.sent,e.abrupt("return",c);case 31:case"end":return e.stop()}},m)}));function T(m,s,i){return M.apply(this,arguments)}return T}()}}}]);
